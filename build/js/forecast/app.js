function createDailyList(a){var b="";$(a).find("Table").each(function(a,c){0!==a&&(listCls="",1===a&&(listCls=" data-list-first"),b+='<ul class="data-list'+listCls+'"><li class="head">Day'+a+"</li>",$(elForDaily).each(function(a,d){if(d){b+="<li";var e=$(c).find(d),f=unitsForShow[e.attr("units")||""]||"",g=e.text(),h=parseFloat(g);"ForecastDate"===d?(b+=' class="date">',b+=moment(g).format("[<div>]dddd[</div>] MMM Do")):(b+=">",g=h>900||-100>h?"-":g+f,b+=g),b+="</li>"}else b+="<li>-</li>"}),b+="</ul>")}),$("#daily-data").html(b)}function createHourList(a,b){var c="";b=b||0,$(a).find("Table").each(function(a,b){if(listCls="",0===a){listCls=" data-list-first";var d=$(b).find("Table").find("ForecastDateUTC");d=moment(d).format("[<div>]dddd[</div>] MMM Do"),$("#hour-title").find(".head").html(d)}c+='<ul class="data-list'+listCls+'">',$(elForHour).each(function(d,e){c+="<li";var f=$(b).find(e);if(0===f.length)c+=">-</li>";else{var g=unitsForShow[f.attr("units")||""]||"",h=f.text(),i=parseFloat(h);"ForecastDateLocal"===e?(c+=' class="head date"><div>Hour'+(a+1)+"</div>",c+=moment(h).format("hh:mm A")):(c+=">",h=i>900||-100>i?"-":h+g,c+=h)}c+="</li>"}),c+="</ul>"}),$("#hour-data").html(c)}function bindScrollEvent(a){if(!($("body").width()>800)){var b,c=$(a),d=c.parent("div").children("ul"),e=d.width();window.onresize=function(){d.width(""),e=d.width()},c.on("scroll",function(){return b=c.scrollLeft(),!d.hasClass("fadeOut")&&b>=e?(d.addClass("fadeOut"),void d.width("5em")):void(e>=b&&(d.removeClass("fadeOut"),d.width(e+"px")))})}}var elForDaily=["ForecastDate","MaxDailyTemp","MinDailyTemp","WindSpeedPeak","ProbabilityOfPrecipitation","Precipitation","Evapotranspiration"],elForHour=["ForecastDateLocal","AirTemp","MaxHourlyTemp","MinHourlyTemp","Dewpoint","RelativeHumidity","WindSpeed","WindSpeed_80m","WindGust","WindDirection","Rainfall","ProbabilityOfPrecipitation","Pressure","SoilTemp","SkyCoverPercentage","NetSolarRadiation","ShortwaveSolarRadiation","Evapotranspiration"],unitsForShow={degreesF:"\xb0",mph:"",inches:'"',"%":"%"};$.ajax({url:"/src/tmp/daily.xml",dataType:"xml",success:function(a){createDailyList(a),bindScrollEvent("#daily-data")},error:function(){}}),$.ajax({url:"/src/tmp/hour.xml",dataType:"xml",success:function(a){createHourList(a),bindScrollEvent("#hour-data")},error:function(){}});